# PromptEnchanter Configuration
# This file contains all necessary environment variables for the application
# Update the values as needed for your deployment

# ===== CORE API CONFIGURATION =====
# Required API keys and endpoints
API_KEY=pe-default-api-key-change-in-production
WAPI_URL=https://api-server02.webraft.in/v1/chat/completions
WAPI_KEY=sk-Xf6CNfK8A4bCmoRAE8pBRCKyEJrJKigjlVlqCtf07AZmpije

# ===== SERVER CONFIGURATION =====
HOST=0.0.0.0
PORT=8000
DEBUG=false
LOG_LEVEL=INFO

# ===== SECURITY CONFIGURATION =====
# IMPORTANT: Change this secret key in production!
SECRET_KEY=promptenchanter-super-secret-key-change-this-in-production-2024
ALGORITHM=HS256

# ===== DATABASE CONFIGURATION =====
# MongoDB configuration (supports both local and Atlas)
MONGODB_URL=mongodb+srv://aideveloper03690_db_user:c0evekYI3q2EnpuY@cluster0.cptyxpt.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0
MONGODB_DATABASE=promptenchanter
USE_MONGODB=true
# Fallback SQLite database (for development/testing)
DATABASE_URL=sqlite+aiosqlite:///./data/promptenchanter2.db

# ===== REDIS CONFIGURATION =====
# Redis for caching and session storage (Docker service name)
REDIS_URL=redis://redis2:6379/0

# ===== RATE LIMITING =====
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20

# ===== CACHE SETTINGS =====
CACHE_TTL_SECONDS=3600
RESEARCH_CACHE_TTL_SECONDS=86400

# ===== CONCURRENCY SETTINGS =====
MAX_CONCURRENT_REQUESTS=50
BATCH_MAX_PARALLEL_TASKS=10

# ===== USER MANAGEMENT SETTINGS =====
USER_REGISTRATION_ENABLED=true
# EMAIL VERIFICATION ENABLED (can be disabled by setting to false)
EMAIL_VERIFICATION_ENABLED=true

# Default user settings (JSON format)
DEFAULT_USER_CREDITS={"main": 10, "reset": 10}
DEFAULT_USER_LIMITS={"conversation_limit": 20, "reset": 20}
DEFAULT_USER_ACCESS_RTYPE=["bpe", "tot", "bcot", "hcot", "react"]
DEFAULT_USER_LEVEL="medium"

# ===== SECURITY SETTINGS =====
IP_WHITELIST_ENABLED=false
FIREWALL_ENABLED=true
MAX_FAILED_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION_HOURS=1

# ===== SESSION SETTINGS =====
SESSION_DURATION_HOURS=24
REFRESH_TOKEN_DURATION_DAYS=30
ADMIN_SESSION_DURATION_HOURS=12
SUPPORT_SESSION_DURATION_HOURS=8

# ===== MESSAGE LOGGING SETTINGS =====
MESSAGE_LOGGING_ENABLED=true
MESSAGE_BATCH_SIZE=50
MESSAGE_FLUSH_INTERVAL_SECONDS=600
MESSAGE_MAX_QUEUE_SIZE=1000

# ===== EMAIL SETTINGS =====
# Email configuration (only used when EMAIL_VERIFICATION_ENABLED=true)
# Gmail SMTP configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_USE_TLS=true
FROM_EMAIL=noreply@promptenchanter.com

# Email verification settings
EMAIL_VERIFICATION_TOKEN_EXPIRY_HOURS=24
EMAIL_VERIFICATION_RESEND_LIMIT_PER_DAY=3
EMAIL_VERIFICATION_OTP_LENGTH=6

# Alternative SMTP providers:
# For SendGrid: SMTP_HOST=smtp.sendgrid.net, SMTP_PORT=587
# For Mailgun: SMTP_HOST=smtp.mailgun.org, SMTP_PORT=587
# For AWS SES: SMTP_HOST=email-smtp.region.amazonaws.com, SMTP_PORT=587

# ===== API USAGE MONITORING =====
API_USAGE_TRACKING_ENABLED=true
DAILY_USAGE_RESET_HOUR=0

# ===== ADVANCED FEATURES =====
RESEARCH_ENABLED_BY_DEFAULT=true
AUTO_CREDIT_RESET_ENABLED=true

# ===== ADMIN CONFIGURATION =====
# Default admin user (created on first startup if not exists)
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_PASSWORD=ChangeThisPassword123!
DEFAULT_ADMIN_EMAIL=admin@promptenchanter.com
DEFAULT_ADMIN_NAME=System Administrator

# ===== LOGGING CONFIGURATION =====
LOG_FILE_PATH=./logs/promptenchanter.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5

# ===== DOCKER CONFIGURATION =====
# These are automatically set by Docker Compose
# REDIS_URL is set to use the redis2 service name
# DATABASE_URL uses the mounted volume path

# ===== PRODUCTION SETTINGS =====
# Set these in production environment
# DEBUG=false
# LOG_LEVEL=WARNING
# EMAIL_VERIFICATION_ENABLED=true (if you want email verification)
# IP_WHITELIST_ENABLED=true (if you want IP restrictions)

# ===== DEVELOPMENT SETTINGS =====
# Uncomment these for development
# DEBUG=true
# LOG_LEVEL=DEBUG
# USER_REGISTRATION_ENABLED=true

# ===== SSL/HTTPS CONFIGURATION =====
# Domain name for SSL certificate (required for production HTTPS)
DOMAIN=api.promptenchanter.net
# Email for Let's Encrypt certificate notifications
CERTBOT_EMAIL=no-reply@promptenchanter.net
# Redis password for production (optional, defaults to 'changeme')
REDIS_PASSWORD=changeme